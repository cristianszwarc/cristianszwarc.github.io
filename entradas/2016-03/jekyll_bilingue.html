<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Jekyll bilingüe &middot; C. Szwarc
    
  </title>

  <!-- CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/simple-sidebar.css" rel="stylesheet">
  <link href="/css/syntax.css" rel="stylesheet">
  <link href="/css/styles.css" rel="stylesheet">


  <!-- Icons -->
  <!--

  <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32.png">
  <link rel="icon" type="image/png" sizes="128x128" href="img/favicon-128.png">
  <link rel="apple-touch-icon" type="image/png" sizes="128x128" href="img/favicon-128.png">


  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">
-->
</head>


  <body>
    <div id="wrapper">
      <!-- Sidebar -->
<div id="sidebar-wrapper">
    
    <ul class="sidebar-nav">
        <li class="sidebar-brand">
            <a href="#">
                C. Szwarc
            </a>
        </li>
        
          <!-- include in the menu any node for the active language or the global ones (no language) -->
          
        
          <!-- include in the menu any node for the active language or the global ones (no language) -->
          
            <!-- ignore pages that were cloned by the pagination process -->
            
            <li>
              <a class=""
                href="/inicio/">
                Génesis
                
              </a>
            </li>
            
          
        
          <!-- include in the menu any node for the active language or the global ones (no language) -->
          
        
          <!-- include in the menu any node for the active language or the global ones (no language) -->
          
            <!-- ignore pages that were cloned by the pagination process -->
            
            <li>
              <a class=" active "
                href="/entradas/">
                Entradas
                 (3) 
              </a>
            </li>
            
          
        
          <!-- include in the menu any node for the active language or the global ones (no language) -->
          
        
          <!-- include in the menu any node for the active language or the global ones (no language) -->
          
            <!-- ignore pages that were cloned by the pagination process -->
            
            <li>
              <a class=""
                href="/quien/">
                Quién?
                
              </a>
            </li>
            
          
        

        <li>
          <a target="_blank" href="https://github.com/cristianszwarc">GitHub</a>
        </li>

        <li>
          
            <a href="/">
              in English, please
            </a>
          
        </li>

    </ul>
    <div class="clearfix"></div>

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 18" class="tentacles">
        <path d="M20.317,2.955c-2.874,0-4.545,1.915-4.545,4.352c0,1.928,1.403,3.603,3.409,3.603c1.5,0,2.156-0.897,2.017-1.173 c-0.14-0.275-0.62,0.036-1.702,0.036c-1.554,0-2.02-1.229-2.02-2.284c0-1.106,0.578-2.261,2.843-2.261 c2.295,0,3.407,2.494,3.407,4.545c0,2.769-1.24,3.994-3.017,4.389c-0.175-0.141-0.39-0.238-0.626-0.255 c-0.032-0.003-0.063-0.004-0.093-0.004c-0.358,0-0.659,0.166-0.849,0.411c-0.178-0.002-0.351-0.027-0.523-0.056 c-0.148-0.174-0.338-0.321-0.582-0.391c-0.116-0.034-0.236-0.051-0.356-0.051c-0.086,0-0.164,0.019-0.244,0.036 c-0.129-0.065-0.259-0.129-0.388-0.204c-0.001-0.08-0.003-0.16-0.017-0.24c-0.065-0.362-0.263-0.696-0.557-0.942 c-0.294-0.244-0.657-0.379-1.022-0.379c-0.168,0-0.328,0.036-0.479,0.09c-0.08-0.06-0.161-0.12-0.242-0.18 c0.247-0.789-0.18-1.677-1.054-2.097c-0.289-0.139-0.604-0.212-0.912-0.212c-0.498,0-0.945,0.191-1.249,0.518 c-0.104-0.035-0.207-0.07-0.314-0.101c-0.237-0.812-1.052-1.415-2.027-1.415c-0.942,0-1.733,0.565-2,1.335 c-0.127,0.034-0.258,0.06-0.38,0.101C6.481,9.955,6.12,9.856,5.737,9.856c-0.41,0-0.824,0.105-1.198,0.304 c-1.052,0.562-1.534,1.736-1.18,2.73c-0.003,0.004-0.006,0.007-0.008,0.011c-0.833,0.073-1.606,0.659-1.959,1.513 c-0.229,0.554-0.264,1.159-0.097,1.703c0.084,0.274,0.223,0.518,0.395,0.729c-0.032,0.124-0.058,0.245-0.087,0.367 C0.672,17.485,0,18.446,0,19.632c0,0.913,0.4,1.691,1.006,2.128c-0.01,0.324-0.007,0.513-0.007,0.513h5.682 c0,0,2.136-0.164,2.136-2.426c0-0.529-0.175-1.01-0.456-1.398c0.707-0.186,1.317-0.732,1.598-1.484 c0.196-0.526,0.196-1.069,0.051-1.552c0.079,0.008,0.157,0.022,0.239,0.022c0.581,0,1.107-0.217,1.486-0.566 c0.172,0.087,0.342,0.18,0.51,0.28c0.131,0.295,0.353,0.567,0.664,0.77c0.299,0.195,0.635,0.298,0.97,0.299 c0.348,0.225,0.715,0.443,1.11,0.643c0.126,0.314,0.39,0.583,0.764,0.691c0.117,0.034,0.237,0.051,0.356,0.051 c0.186,0,0.354-0.052,0.506-0.126c0.228,0.058,0.467,0.105,0.716,0.144c0.18,0.233,0.455,0.403,0.79,0.429 c0.031,0.002,0.062,0.004,0.093,0.004c0.324,0,0.6-0.137,0.793-0.342c0.32-0.009,0.629-0.03,0.922-0.065 c0.117,0.042,0.241,0.07,0.375,0.07c0.108,0,0.216-0.015,0.321-0.045c0.163-0.046,0.303-0.133,0.427-0.238 c3.839-1,4.949-4.447,4.949-7.238C25.999,5.307,23.27,2.955,20.317,2.955z M9.167,9.717c0.607,0,1.099,0.394,1.099,0.879 s-0.492,0.879-1.099,0.879c-0.607,0-1.099-0.394-1.099-0.879S8.56,9.717,9.167,9.717z M2.075,21.122 C1.447,21.1,0.961,20.413,0.99,19.588s0.562-1.476,1.19-1.454c0.628,0.022,1.114,0.709,1.086,1.534 C3.236,20.492,2.704,21.143,2.075,21.122z M4.436,15.641c-0.257,0.721-0.946,1.135-1.538,0.924 c-0.592-0.211-0.864-0.967-0.607-1.689c0.257-0.721,0.946-1.135,1.538-0.924C4.421,14.163,4.693,14.919,4.436,15.641z M4.504,12.948 c-0.399-0.504-0.259-1.28,0.313-1.734c0.573-0.454,1.36-0.414,1.76,0.089s0.259,1.28-0.313,1.734S4.904,13.451,4.504,12.948z M6.646,21.143c-0.628-0.022-1.118-0.62-1.093-1.336c0.025-0.716,0.555-1.278,1.183-1.256c0.628,0.022,1.117,0.62,1.092,1.336 C7.804,20.603,7.275,21.165,6.646,21.143z M9.043,16.565c-0.213,0.684-0.871,1.087-1.469,0.9c-0.598-0.187-0.91-0.892-0.697-1.576 c0.213-0.684,0.871-1.087,1.469-0.9C8.944,15.176,9.256,15.881,9.043,16.565z M10.244,14.419c-0.607,0-1.099-0.394-1.099-0.879 s0.492-0.879,1.099-0.879c0.607,0,1.099,0.394,1.099,0.879S10.851,14.419,10.244,14.419z M12.194,11.004 c0.165-0.325,0.648-0.411,1.079-0.193c0.431,0.219,0.647,0.66,0.482,0.985c-0.165,0.325-0.648,0.411-1.079,0.193 S12.029,11.329,12.194,11.004z M14.483,15.142c-0.165,0.325-0.648,0.411-1.079,0.193c-0.431-0.219-0.647-0.66-0.482-0.985 c0.165-0.325,0.648-0.411,1.079-0.193C14.432,14.376,14.648,14.817,14.483,15.142z M15.151,14.036 c-0.326-0.271-0.404-0.714-0.176-0.988c0.229-0.275,0.678-0.278,1.004-0.007c0.326,0.271,0.405,0.714,0.176,0.988 C15.926,14.304,15.476,14.307,15.151,14.036z M16.657,16.754c-0.088,0.281-0.441,0.42-0.788,0.311 c-0.347-0.109-0.557-0.425-0.468-0.706c0.088-0.281,0.441-0.42,0.788-0.311S16.745,16.473,16.657,16.754z M17.127,14.662 c0.088-0.281,0.441-0.42,0.788-0.311s0.557,0.425,0.468,0.706c-0.088,0.281-0.441,0.42-0.788,0.311S17.039,14.943,17.127,14.662z M18.174,17.566c-0.323-0.016-0.575-0.241-0.562-0.503c0.013-0.262,0.285-0.461,0.609-0.446s0.575,0.241,0.562,0.503 C18.77,17.383,18.498,17.582,18.174,17.566z M19.438,14.855c0.005-0.252,0.262-0.451,0.573-0.444 c0.311,0.007,0.559,0.216,0.554,0.468c-0.005,0.252-0.262,0.451-0.573,0.444C19.681,15.317,19.433,15.107,19.438,14.855z M20.452,17.193c-0.304,0.068-0.594-0.076-0.649-0.322c-0.055-0.246,0.146-0.5,0.45-0.568c0.304-0.068,0.594,0.076,0.649,0.322 C20.957,16.871,20.756,17.125,20.452,17.193z M21.482,14.819c-0.06-0.216,0.104-0.45,0.368-0.524 c0.264-0.074,0.527,0.041,0.588,0.256c0.06,0.215-0.104,0.45-0.368,0.524C21.806,15.149,21.543,15.034,21.482,14.819z M22.464,16.279c-0.264,0.074-0.527-0.041-0.587-0.256c-0.06-0.215,0.104-0.45,0.368-0.524c0.264-0.074,0.527,0.041,0.587,0.256 C22.893,15.97,22.727,16.205,22.464,16.279z M23.03,13.984c-0.087-0.117-0.041-0.297,0.102-0.404 c0.143-0.106,0.329-0.098,0.416,0.019c0.087,0.117,0.041,0.297-0.102,0.404C23.303,14.109,23.117,14.101,23.03,13.984z M23.861,15.041c-0.143,0.106-0.329,0.098-0.416-0.019c-0.087-0.117-0.042-0.298,0.101-0.404c0.143-0.106,0.33-0.098,0.416,0.019 C24.05,14.754,24.004,14.935,23.861,15.041z M24.238,13.868c-0.109-0.096-0.102-0.282,0.015-0.416 c0.118-0.134,0.302-0.164,0.411-0.068c0.109,0.096,0.102,0.282-0.016,0.416C24.532,13.933,24.348,13.964,24.238,13.868z"/>
    </svg>

</div>
<!-- /#sidebar-wrapper -->


      <div id="page-content-wrapper">
        <div id="mainContainer" class="container-fluid">
            <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">Toggle Menu</a>
            <h3>
              Jekyll bilingüe
              
                <small>Y aquí vamos de nuevo</small>
              
              
  <div class="translated">
      <a href="/entries/2016-03/bilingual_jekyll.html" >English</a>
      <a href="/entries/2016-03/bilingual_jekyll.html" class="active">Español</a>
  </div>
  <div class="clearfix"></div>


            </h3>
            <hr>
            <div class="post">
  <span class="post-date">13 Mar 2016</span>
  <p>La paradoja de las opciones (<a href="https://www.ted.com/talks/barry_schwartz_on_the_paradox_of_choice?language=enN52MGjskyoalXaraOC3jg&amp;bvm=bv.116636494,d.dGY">TED</a>) me ha dejado con un sitio a medias o no publicado por años.</p>

<p>En un nuevo intento por mantener un sitio web personal, esta vez estoy intentando dejar de lado la responsabilidad de tomar decisiones y simplemente usar lo que ya existe sin <em>re inventar la rueda</em>. Al final del día, en la mayoría de los casos, lo que cuenta es el contenido y no el template o si el CMS fue echo en casa.</p>

<p>Será este otro sitio como tantos otros llenos de recortes de código y links a cosas locas? muy probablemente!</p>

<p>Un cuaderno de apuntes donde pueda acceder a buscar esos comandos que siempre olvido y si es posible que ayude a algún transeúnte con algún tip así como tantos otros blogs me ayudan día a día a ganarme el pan.</p>

<h3 id="jekyll-bilinge">Jekyll bilingüe</h3>
<p>Elegí usar <a href="https://jekyllrb.com/">Jekyll</a> para este blog en un intento por limitar tentaciones de toquetear código.</p>

<p>Pero Jekyll resultó mucho más completo de lo esperado y al par de horas ya estaba instalando plugins para hacerlo bilingüe, ya desviado del plan original.</p>

<p>Algunos plugins no funcionan y otros son muy complejos, así que opté por una forma sencilla de manejar ambos idiomas en un mismo sitio “sin” plugins (ver último paso).</p>

<h4 id="primer-paso">Primer paso</h4>
<p>Agregar una variable <code class="highlighter-rouge">language</code> a cada página o post (en otras palabras <strong>a todo</strong>).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>---
layout: page
title: Some page
language: en
---
Phasellus gravida semper nisi. Nunc nonummy metus.
</code></pre>
</div>

<h4 id="segundo-paso-men">Segundo paso, menú</h4>
<p>Hacer que el menú y otras partes se adapten al lenguaje activo. El lenguaje activo queda definido por la variable que agregamos a cada página/post.</p>

<p>Ejemplo en el menú:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="c">&lt;!-- links manuales --&gt;</span>
{% if page.language == 'es' %}
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/inicio"</span><span class="nt">&gt;</span>Inicio<span class="nt">&lt;/a&gt;</span>
{% else %}
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/"</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;</span>
{% endif %}

<span class="c">&lt;!-- links a páginas sueltas --&gt;</span>
{% assign pages_list = site.pages %}
{% for node in pages_list %}
  <span class="c">&lt;!-- solo incluir páginas que usen el layout page --&gt;</span>
  {% if node.layout == "page" %}
    <span class="c">&lt;!-- mostrar link si el item es del mismo idioma
      que la página que estamos viendo actualmente --&gt;</span>
    {% if node.language == page.language %}
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ node.url }}"</span><span class="nt">&gt;</span>
        {{ node.title }}
      <span class="nt">&lt;/a&gt;</span>
    {% endif %}
  {% endif %}
{% endfor %}

</code></pre>
</div>

<h4 id="tercero-link-entre-idiomas-opcional">Tercero, link entre idiomas (opcional)</h4>
<p>Agregar un link automático entre artículos disponibles en ambos idiomas.</p>

<p>Para esto hay que tener un permalink definido en ambos artículos y una variable extra para indicar el permalink del <em>otro</em> artículo.</p>

<p>Ejemplo post <code class="highlighter-rouge">2016-03-01-here_we_go_again.md</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>---
layout: post
title: Here we go again
permalink: /entries/here_we_go_again.html
translated: /entradas/aqui_vamos_de_nuevo.html
language: en
---
English version...
</code></pre>
</div>

<p>Ejemplo post <code class="highlighter-rouge">2016-03-01-aqui_vamos_de_nuevo.md</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>---
layout: post
title: Aquí vamos de nuevo
permalink: /entradas/aqui_vamos_de_nuevo.html
translated: /entries/here_we_go_again.html
language: es
---
Version en Español...
</code></pre>
</div>

<p>Con esto podemos incluir en la plantilla del post un link automático para moverse de un idioma a otro:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
{% if page.translated %}
	{% if page.language == 'es' %}
		<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ page.translated }}"</span><span class="nt">&gt;</span>Read in English<span class="nt">&lt;/a&gt;</span>
	{% else %}
		<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ page.translated }}"</span><span class="nt">&gt;</span>Ver en Español<span class="nt">&lt;/a&gt;</span>
	{% endif %}
{% endif %}

</code></pre>
</div>

<h4 id="cuarto-filtrar-posts-por-idioma">Cuarto, Filtrar posts por idioma</h4>
<p>En un listado de posts, la variable de lenguaje cumple dos objetivos, 1ro indicar al resto del sitio web el lenguaje actual (ejemplo para que el menú muestre los items correctos) y 2do se utiliza para filtrar los posts a mostrar.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
---
layout: default
title: Entries
language: en
---
{% assign posts = site.posts | where: "language", page.language %}
<span class="nt">&lt;ul&gt;</span>
{% for post in posts limit:3 %}
  <span class="nt">&lt;Ol&gt;</span>{{ post.title }}<span class="nt">&lt;/ol&gt;</span>
{% endfor %}
<span class="nt">&lt;/ul&gt;</span>

</code></pre>
</div>

<h4 id="paginar">Paginar</h4>
<p>Hasta aquí llegamos sin plugins ni cosas raras, pero si queremos paginar los posts no encontré otra salida que usar un plugin.</p>

<p>Hay muchos plugins para paginar categorías y también hay plugins para manejar lenguajes, pero encontré poca información sobre como paginar categorías en multiples idiomas, así que terminé armando un pequeño plugin a mi gusto. Lo dejo disponible en GitHub: <a href="https://github.com/cristianszwarc/JekyllLanguageAndCategoriesPagination">Jekyll Language and categories pagination</a></p>

<p>También terminé armando un plugin para poder marcar el rubro correcto en el menú cuando se está leyendo un post. No es la gran cosa así que esta incluido sin propaganda en el mismo git.</p>

<h4 id="conclusin">Conclusión</h4>
<p>De los días que llevo jugando con Jekyll me parece una herramienta fantástica para programadores y afines.
Es verdad que por momentos me sentí limitado cuando mientras buscaba “la forma perfecta” de mantener un sitio bilingüe pero al final habiendo escrito un plugin que me brinda lo que buscaba puedo entender por qué tiene tantos adeptos.</p>

<p>Escribiendo estas lineas en <a href="https://stackedit.io">stackedit.io</a> de momento puedo decir que quizás este podría ser este el final de una larga búsqueda por un sitio web personal.</p>

</div>


            <hr>
<script src="/js/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
$("#menu-toggle").click(function(e) {
    e.preventDefault();
    $("#wrapper").toggleClass("toggled");
});
</script>


        </div>
      </div>


    </div>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-77109525-1', 'auto');
      ga('send', 'pageview');

    </script>

  </body>
</html>
